---
title: 네트워크 4. 데이터링크계층
date: 2018-12-05
categories:
- Network
tags:
- Network
- Study
---
# 04 데이터 링크 계층 : 랜에서 데이터 전송하기

## 데이터 링크 계층의 역할과 이더넷
### 이더넷이란?

- 데이터 링크 계층 : 네트워크 장비 간에 신호를 주고받는 규칙을 정하는 계층 (랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층)

- 이더넷 : 랜에서 적용되는 규칙 / 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조로 되어있음

 - CSMA/CD(Carrier Sense Multiple Access with Collision Detection 반송파 감지 다중 접속 및 충돌 탐지) : 이더넷에서 시점 늦추는 방법
  - CS : 데이터를 보내려고 한 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지를 확인한다
  - MA : 케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다
  - CD : 충돌이 발생하고 있는지를 확인한다

- 효율이 좋지 않아 지금은 CSMA/CD를 사용하지 않음

- 충돌 : 컴퓨터 여러대가 동시에 데이터를 보내면 데이터가 부딪힘

## MAC 주소의 구조
### MAC주소란?

- MAC주소 : (랜카드에 붙은 번호)물리주소 / 전 세계에서 유일한 번호
  - 24비트(랜 카드를 만든 제조사 번호) + 24비트(제조사가 랜카드에 붙인 일련번호)

- 이더넷 헤더+ 트레일러 (OSI 모델-데이터 링크 계층 / TCP/IP 모델-네트워크 계층)
  - 이더넷 헤더 : 목적지 MAC주소 (6바이트) + 출발지 MAC 주소(6바이트) + 유형(2바이트)
    - 유형 : 이더넷으로 전송되는 상위 계층 프로토콜의 종류 (프로토콜 종류를 식별하는 번호가 들어감)

  - 트레일러 FCS<sup>Frame Check Sequence</sup> : 데이터 전송 도중에 오류가 발생하는지 확인하는 용도

- 프레임 : 이더넷 헤더 + 트레일러가 추가된 데이터

## 스위치의 구조
### MAC 주소 테이블이란?
- 스위치 : 데이터 링크 계층에서 동작 (= 레이어 2 스위치 / 스위칭 허브)
- MAC 주소 테이블 : 스위치의 포트 번호 + 해당 포트에 연결 되어 있는 컴퓨터의 MAC 주소 (가 등록된 데이터베이스)
- 플러딩(flooding) : 컴퓨터의 목적지 MAC주소가 MAC 주소테이블에 등록되어 있지 않아서 송신 포트 이와의 포트에 데이터(프레임) 전송되는 것
- MAC 주소 필터링 : MAC 주소를 기준으로 목적지를 선택하는 것

## 데이터가 케이블에서 충돌하지 않는 구조
### 전이중 통신과 반이중 통신

- 전이중 통신 방식 : 데이터의 송수신을 동시에 통신하는 방식  (랜케이블 = 크로스 케이블)
- 반이중 통신 방식 : 회선하나로 송신과 수신을 번갈아가면서 통신하는 방식 -> 충돌이 발생 (허브 = 더미 허브)

- 스위치 -> 전이중 통신방식

### 충돌 도메인이란?
- 충돌 도메인<sup>collision domain</sup> : 충돌이 발생할때 그 영향이 미치는 범위

- 허브 -> 모든 컴퓨터에 충돌의 영향
- 스위치 -> 충돌 도메인의 범위가 적다

- ARP <sup>Address Resolution Protocol</sup> : 목적지 컴퓨터의 IP 주소를 이용하여 MAC 주소를 찾기 위한 프로토콜
  - ARP 요청 : 출발지 컴퓨터가 목적지 주소를 모르면 MAC 주소를 알아내기 위해 네트워크 브로드캐스트를 함
  - ARP 응답 : 이 요청에 대해 지정된 IP주소를 가지고 있지 않은 컴퓨터는 응답하지 않지만  지정된 IP 주소를 가진 컴퓨터는 MAC 주소를 응답으로 보냄
  - ARP 테이블 : 출발지 컴퓨터에서 MAC 주소를 얻은 후에 MAC 주소와 IP주소의 매핑 정보를 메모리에 보관하는데 이때의 정보

## 이더넷의 종류와 특징
### 이더넷 규격

- 통신속도(Mbps) + BASE(전송방식) - (케이블)
  - 통신속도 10 / 100 / 10G
  - BASE : BASEBAND라는 전송방식을 나타냄
  - 케이블 : 하이픈(-) 뒤는 케이블 길이나 케이블 종류를 나타냄
            동축테이블은 최대 길이를 100미터 단위로 표시
            UTP케이블은 케이블 종류를 표시

- 10BASE5 / 10BASE2 / 10BASE-T / 100BASE-TX / 1000BASE-T / 10GBASE-T
